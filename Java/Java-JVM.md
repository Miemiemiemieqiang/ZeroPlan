> 第二次记录笔记!!记得保存上传
- [概念](#%E6%A6%82%E5%BF%B5)
- [JVM](#JVM)
- [字节码文件](#%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6)
- [字节码执行](#%E5%AD%97%E8%8A%82%E7%A0%81%E6%89%A7%E8%A1%8C)
## 概念
    分清 协议、实现
    Java 虚拟机常说的指的是 Oracle 的 Hotspot 虚拟机,
    此外还有 OpenJdk TaoJVM。
    以上都实现了 Java 虚拟机规范。

JRuby Groovy  
Scala  
由  **Java 语言规范** 规定了 Java 语言  
Java 编译器遵循 『Java 语言规范』和 『Java 虚拟机规范』
> 其他语言同上

## JVM
    运行时数据区
1. 线程共享  
   1. 所有线程能访问,随虚拟机、GC 创建和销毁
   2. 方法区  
      1. 作用 存储 **类信息** static field、field class、name、interface、method code
      2. 存储 常量
      3. 存储 静态变量
      4. 存储 JIT 编译后的代码 Just In Time Compiler
         1. 重复一定次数后 直接编译成机器码
   3. 堆内存
      1. 目的 存放**对象实例**(主要是字段,用来 **描述结构信息**;object head),几乎所有对象、数组都在此处
      2. 垃圾回收算法 对垃圾回收的划分 新生代、老年代、永久代
      3. 判断对象有没有使用
         1. 引用计数器算法,存在两个对象相互引用问题,不被回收
         2. 可达性算法 从 GC ROOT 开始追踪 GC ROOT:
            1. 虚拟机栈
            2. 方法中静态属性引用的对象 static A a = new A()
            3. 方法区中常量引用的对象 String a = "A"
            4. Native 方法引用的对象
2. 线程独占
   1. 每个线程独占空间,随生命周期创建和销毁
      1. 虚拟机栈
        1. 方法执行的模型，在方法执行时，会在虚拟机栈中创建栈帧。
               2. 方法从调用->执行完，入栈->出栈。
               3. 虚拟机栈由多个 Stack Frame 组成。一个线程执行一个或多个方法，一个方法对应一个栈帧。
                  1. 栈帧中含有局部变量表
                  2. 动态链接 - 指向方法区
                  3. 操作数栈
                  4. 返回地址
      2. 本地方法栈
         1. 为虚拟机使用 native 本地方法而准备的。native 为其他语言写的代码
      3. 程序计数器
         1. 用于指向程序运行的地址

## 字节码文件
    JVM

## 字节码执行
    Java 程序执行原理